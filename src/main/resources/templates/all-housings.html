<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Housings</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/all-housings.css}">
    <script src="https://kit.fontawesome.com/807f2d6ec6.js" crossorigin="anonymous"></script></head>
<body>


    <div class="container mt-3">
        <a th:href="@{|/account/${accountId}/home|}" class="btn btn-primary">Back</a><br>
        <form th:action="@{|/account/${accountId}/searchHousing|}" method="POST" class="form-group">
            <label for="city">City</label>
            <input type="text" name="city" id="city" class="form-control"><br>

            <label for="township">Township</label>
            <input type="text" name="township" id="township" class="form-control"><br>


            <label for="salePrice">Max Price(lakhs)</label>
            <input id="salePrice" type="number" name="salePrice" class="form-control"><br>

            <label for="rentFee">Max Monthly Fee(lakhs)</label>
            <input id="rentFee" type="number" name="rentFee" class="form-control"><br>

            <button type="submit">Search</button>
        </form>
        <a th:href="@{|/account/${accountId}/favourites|}" class="btn btn-primary">Show My Favourites</a>
        <a th:href="@{|/account/${accountId}/housings|}" class="btn btn-primary">Show All</a>


    </div>



    <!-- <label for="length">Length</label>
        <input type="number" name="length" id="length"><br> -->

    <!-- <label for="width">Width</label>
        <input type="number" name="width" id="width"><br>

        <label for="floor">Floor</label>
        <input type="number" name="floor" id="floor"><br>

        <label for="master">Master Rooms</label>
        <input type="number" name="master" id="master"><br>

        <label for="single">Single</label>
        <input type="number" name="single" id="single"><br> -->

    <!-- <label for="parking">Parking</label>
        <select id="parking" name="parking" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select><br> -->


    <div class="container">
        <div class="row">
            <div class="col-12 col-md-6 col-lg-3 mb-3" th:each="housing: ${housingCards}">


                <div class="card border-secondary">
                    <img th:src="${housing.imageUrl}" class="card-img-top" height="200px" alt="image">
                    <div class="card-body">
                        <p th:text="|(${housing.length} * ${housing.width}) square inch|"></p>
                        <p th:text="${housing.type}"></p>
                        <p th:text="|${housing.city}, ${housing.township}|"></p>
                        <p th:text="|Floors: ${housing.floor}|"></p>
                        <p th:text="|Master Rooms: ${housing.master}|"></p>
                        <p th:text="|Single Rooms: ${housing.single}|"></p>
                        <p th:text="|Parking: ${housing.parking}|"></p>
                        <p th:text="|Sale(lakhs): ${housing.salePrice}|"></p>
                        <p th:text="|Monthly Rent(lakhs): ${housing.rentFee}|"></p>
                        <a th:href="@{|/${housing.id}/moreImages|}" class="btn btn-info">Images</a>

                        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            th:data-bs-target="|#exampleModal-${housing.id}|">
                            Contact
                        </button>

                        <a th:href="@{|/${accountId}/fav/${housing.id}|}" class="btn btn-info" title="Add to favourites">
                            <i class="fas fa-heart"></i>
                        </a>
                        
                        

                        </button>

                        <div class="modal fade" th:id="|exampleModal-${housing.id}|" tabindex="-1"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Contact Info</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <p th:text="|Name: ${housing.ownerName}|"></p><br>
                                        <p th:text="|Email: ${housing.ownerEmail}|"></p><br>
                                        <p th:text="|Phone: ${housing.ownerPhone}|"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>